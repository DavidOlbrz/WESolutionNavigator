<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Übung 08</title>
    <link href="../css/uebung.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/default.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script>hljs.highlightAll();</script>
    <script src="scripts/asynchronous.js"></script>
</head>
<body>
<a href="..">[Zurück]</a>
<h1>Übung 8: Asynchrones JavaScript</h1>

<div class="aufgaben_nav">
    <h2>Aufgaben</h2>
    <nav><a href="#task1">8.1 Promises</a></nav>
    <nav><a href="#task2">8.2 async/await</a></nav>
    <nav><a href="#task3">8.3 WWW-Navigator</a></nav>
</div>

<h2 id="task1">8.1 Promises</h2>

<p>
    Erstellen Sie auf Ihrem lokalen Server (localhost) zwei Text-Dateien <code>A.txt</code> und <code>B.txt</code> mit
    ungefähr gleich vielen Zeilen. Laden Sie mit der fetch-API parallel beide Text-Dateien vom Server. Geben Sie auf
    einer Webseite den Inhalt beider Dateien zeilenweise aus, wobei der Anfang der Zeile aus <code>A.txt</code> und das
    Ende aus <code>B.txt</code> stammen soll. Die beiden Dateien sollen also zeilenweise konkateniert werden. Erzielen
    Sie max. Geschwindigkeit durch maximale Parallelität. Achten Sie gleichzeitig auf Korrektheit. Verwenden Sie dabei
    ausschließlich die Promise-API ohne async/await.
</p>
<button onclick="runTask1()">Run script</button>
(Output in der Konsole)
<h3>Source Code</h3>
<pre>
    <code>
const fileA = 'assets/A.txt';
const fileB = 'assets/B.txt';

function runTask1() {
    Promise.all([fetch(fileA), fetch(fileB)])
        .then(responses => Promise.all(responses.map(response => response.text())))
        .then(texts => {
            const linesA = texts[0].split('\n');
            const linesB = texts[1].split('\n');
            const numLines = Math.min(linesA.length, linesB.length);
            for (let i = 0; i < numLines; i++) {
                console.log(`${linesA[i]} , ${linesB[i]}`);
            }
        })
}
    </code>
</pre>

<h2 id="task2">8.2 async/await</h2>

<p>
    Lösen Sie die letzte Aufgabe mit async/await statt Promise.
</p>
<button onclick="runTask2()">Run script</button>
(Output in der Konsole)
<h3>Source Code</h3>
<pre>
    <code>
const fileA = 'assets/A.txt';
const fileB = 'assets/B.txt';

async function runTask2() {
    const responseA = await fetch(fileA);
    const responseB = await fetch(fileB);
    const textA = await responseA.text();
    const textB = await responseB.text();
    const linesA = textA.split('\n');
    const linesB = textB.split('\n');
    const numLines = Math.min(linesA.length, linesB.length);
    for (let i = 0; i < numLines; i++) {
        console.log(`${linesA[i]} , ${linesB[i]}`);
    }
}
    </code>
</pre>

<h2 id="task3">8.3 WWW-Navigator</h2>

<p>
    Schreiben Sie einen Navigator für die Fachbegriffe des WWW zu den Oberthemen HTML, CSS und JavaScript. Im Hauptmenü
    sollen diese 3 Oberthemen zur Auswahl stehen. Im Untermenü soll eine zugehörige Liste von Fachbegriffen zum
    jeweiligen ausgewählten Oberthema stehen. In der Mitte soll eine Dokumentation zum ausgewählten Fachbegriff
    erscheinen.
</p>

<p>Coming Soon!</p>

</body>
</html>